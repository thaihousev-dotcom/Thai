<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PDF Viewer - All Pages</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.min.js"></script>

<style>
  body {
    margin: 0;
    background: #0b0f17;
    color: #fff;
    font-family: system-ui;
    display: flex;
    flex-direction: column;
    align-items: center; /* Центрируем страницы по горизонтали */
    padding: 20px 0;
  }

  #pdf-container {
    display: flex;
    flex-direction: column;
    gap: 20px; /* Отступ между страницами */
    width: 100%;
    max-width: 900px; /* Ограничиваем ширину для удобства чтения */
    align-items: center;
  }

  canvas {
    max-width: 95%;
    height: auto !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5); /* Добавим немного объема */
    background: white; /* Фон для страниц, пока они грузятся */
  }
</style>
</head>

<body>

<div id="pdf-container"></div>

<script>
pdfjsLib.GlobalWorkerOptions.workerSrc =
"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf.worker.min.js";

/* ======== ПУТЬ К PDF ======== */
const PDF_PATH = "./dhuihiuawygilrfhiresod.pdf";
/* ============================= */

const container = document.getElementById("pdf-container");

async function loadFullPdf() {
  try {
    const pdfDoc = await pdfjsLib.getDocument(PDF_PATH).promise;
    const numPages = pdfDoc.numPages;

    // Цикл по всем страницам
    for (let i = 1; i <= numPages; i++) {
      await renderPage(pdfDoc, i);
    }
  } catch (error) {
    console.error("Ошибка при загрузке PDF:", error);
  }
}

async function renderPage(pdfDoc, num) {
  const page = await pdfDoc.getPage(num);
  
  // Создаем новый canvas для каждой страницы
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  container.appendChild(canvas);

  const viewport = page.getViewport({ scale: 1.5 });
  
  // Устанавливаем размеры
  canvas.width = viewport.width;
  canvas.height = viewport.height;

  // Рендерим страницу
  await page.render({
    canvasContext: ctx,
    viewport: viewport
  }).promise;
}

loadFullPdf();
</script>

</body>
</html>
